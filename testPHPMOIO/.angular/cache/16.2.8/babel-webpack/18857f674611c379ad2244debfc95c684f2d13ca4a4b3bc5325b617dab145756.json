{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/otavi/ionic/testPHPMOIO/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ModalPermissaoPage = class ModalPermissaoPage {\n  constructor(modalCtrl, fBuilder, http, alertCtrl) {\n    this.modalCtrl = modalCtrl;\n    this.fBuilder = fBuilder;\n    this.http = http;\n    this.alertCtrl = alertCtrl;\n    this.fGroupPermissao = this.fBuilder.group({\n      'nome': [null, Validators.compose([Validators.required, Validators.minLength(2), Validators.maxLength(100)])],\n      'emailPermissao': [null, Validators.compose([Validators.required, Validators.pattern(/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/), Validators.minLength(4), Validators.maxLength(100)])],\n      'criarNew': [null],\n      'acessPermissao': [null]\n    });\n  }\n  close() {\n    this.modalCtrl.dismiss();\n  }\n  novaPermissao() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      //console.log(this.fGroupPermissao.value)\n      const nome = _this.fGroupPermissao.value.nome;\n      const emailPermissao = _this.fGroupPermissao.value.emailPermissao;\n      const criarNew = _this.fGroupPermissao.value.criarNew;\n      const acessPermissao = _this.fGroupPermissao.value.acessPermissao;\n      const url = `http://localhost/classes/criarNovaPermissao.php?nome=${nome}&emailPermissao=${emailPermissao}&criarNew=${criarNew}&acessPermissao=${acessPermissao}`;\n      const myalert = yield _this.alertCtrl.create({\n        header: \"Loguin Efetuado com sucesso!\",\n        message: \"Deseja continuar?\",\n        buttons: [{\n          text: 'Confirmar',\n          handler: () => {\n            _this.navCtrl.navigateForward('register');\n          }\n        }, 'Cancelar']\n      });\n      const alertCancel = yield _this.alertCtrl.create({\n        header: \"Email ou Senha incorretos!\",\n        message: \"Digite novamente os dados!\",\n        buttons: ['OK']\n      });\n      _this.http.get(url).subscribe(data => {\n        _this.dados = data;\n        if (_this.dados.status == \"cadastrado\") {\n          //aqui deu boa\n          console.log('ok');\n          // myalert.present();\n        } else {\n          //aqui deu ruim\n          console.log('recusado');\n          // alertCancel.present();\n        }\n      }, error => {\n        // Lide com erros aqui\n        console.error(error);\n      });\n    })();\n  }\n  ngOnInit() {}\n};\nModalPermissaoPage = __decorate([Component({\n  selector: 'app-modal-permissao',\n  templateUrl: './modal-permissao.page.html',\n  styleUrls: ['./modal-permissao.page.scss']\n})], ModalPermissaoPage);\nexport { ModalPermissaoPage };","map":{"version":3,"names":["Component","Validators","ModalPermissaoPage","constructor","modalCtrl","fBuilder","http","alertCtrl","fGroupPermissao","group","compose","required","minLength","maxLength","pattern","close","dismiss","novaPermissao","_this","_asyncToGenerator","nome","value","emailPermissao","criarNew","acessPermissao","url","myalert","create","header","message","buttons","text","handler","navCtrl","navigateForward","alertCancel","get","subscribe","data","dados","status","console","log","error","ngOnInit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\otavi\\ionic\\testPHPMOIO\\src\\app\\modal-permissao\\modal-permissao.page.ts"],"sourcesContent":["import { ModalController, NavController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'app-modal-permissao',\n  templateUrl: './modal-permissao.page.html',\n  styleUrls: ['./modal-permissao.page.scss'],\n})\nexport class ModalPermissaoPage implements OnInit {\n  // banco de dados\n  nome: any;\n  email: any;\n  senha: any;\n  criarNew: any;\n  acessPermissao: any;\n  dados: any;\n\n  public fGroupPermissao: FormGroup;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private fBuilder: FormBuilder,\n    private http: HttpClient,\n    private alertCtrl: AlertController,\n  ) {\n    this.fGroupPermissao = this.fBuilder.group({\n      'nome': [null,\n        Validators.compose([\n        Validators.required,\n        Validators.minLength(2),\n        Validators.maxLength(100),\n      ])\n      ],\n      'emailPermissao': [null,\n        Validators.compose([\n          Validators.required,\n          Validators.pattern(\n            /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/\n          ),\n          Validators.minLength(4),\n          Validators.maxLength(100),\n        ])\n      ],\n      'criarNew': [null],\n      'acessPermissao': [null]\n    })\n  }\n\n  close() {\n    this.modalCtrl.dismiss();\n  }\n\n  async novaPermissao(){\n    //console.log(this.fGroupPermissao.value)\n\n    const nome = this.fGroupPermissao.value.nome;\n    const emailPermissao = this.fGroupPermissao.value.emailPermissao;\n    const criarNew = this.fGroupPermissao.value.criarNew;\n    const acessPermissao = this.fGroupPermissao.value.acessPermissao;\n    const url = `http://localhost/classes/criarNovaPermissao.php?nome=${nome}&emailPermissao=${emailPermissao}&criarNew=${criarNew}&acessPermissao=${acessPermissao}`;\n    const myalert = await this.alertCtrl.create({\n      header: \"Loguin Efetuado com sucesso!\",\n      message: \"Deseja continuar?\",\n      buttons: [{\n        text:'Confirmar',\n        handler: () => {\n          this.navCtrl.navigateForward('register');\n        }}, 'Cancelar']\n    });\n    const alertCancel = await this.alertCtrl.create({\n      header: \"Email ou Senha incorretos!\",\n      message: \"Digite novamente os dados!\",\n      buttons: ['OK']\n    });\n\n    this.http.get(url).subscribe(data => {\n      this.dados = data;\n        if (this.dados.status == \"cadastrado\"){\n        //aqui deu boa\n        console.log('ok')\n        // myalert.present();\n      } else {\n        //aqui deu ruim\n        console.log('recusado')\n        // alertCancel.present();\n      }\n    }, error => {\n      // Lide com erros aqui\n      console.error(error);\n    });\n\n  }\n\n  ngOnInit() {\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
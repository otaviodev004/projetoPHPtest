{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/otavi/ionic/testPHPMOIO/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { ModalPermissaoPage } from './../modal-permissao/modal-permissao.page';\nimport { Component } from '@angular/core';\nlet PermicaoPage = class PermicaoPage {\n  constructor(navCtrl, modalCtrl, http, alertCtrl) {\n    this.navCtrl = navCtrl;\n    this.modalCtrl = modalCtrl;\n    this.http = http;\n    this.alertCtrl = alertCtrl;\n  }\n  permissaonova() {\n    this.navCtrl.navigateForward('newpermissao');\n  }\n  showmodalPermissao() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this.modalCtrl.create({\n        component: ModalPermissaoPage\n      });\n      modal.onDidDismiss().then(data => {\n        _this.montaGrid();\n      });\n      return yield modal.present();\n    })();\n  }\n  againpage() {\n    this.navCtrl.navigateForward('register');\n  }\n  montaGrid() {\n    const url = `http://localhost/classes/montaGridPermissao.php`;\n    this.http.get(url).subscribe(data => {\n      // debugger;\n      this.linhas = data;\n    }, error => {\n      // Lide com erros aqui\n      console.error(error);\n    });\n  }\n  ngOnInit() {}\n  ionViewDidEnter() {\n    this.montaGrid();\n  }\n  modificaStatus(codigo) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const alertcadastrado = yield _this2.alertCtrl.create({\n        header: \"Deseja atualizar o status da pessoa selecionada?\",\n        buttons: [{\n          text: 'Sim',\n          handler: () => {\n            _this2.atualizaStatus(codigo);\n            _this2.modalCtrl.dismiss();\n          }\n        }, {\n          text: 'Não',\n          handler: () => {\n            _this2.modalCtrl.dismiss();\n          }\n        }]\n      });\n      yield alertcadastrado.present();\n    })();\n  }\n  atualizaStatus(codigo) {\n    const url = `http://localhost/classes/alteracaoStatus.php?codigo=${codigo}`;\n    this.http.get(url).subscribe(data => {\n      this.montaGrid();\n    }, error => {\n      console.error(error);\n    });\n  }\n};\nPermicaoPage = __decorate([Component({\n  selector: 'app-permicao',\n  templateUrl: './permicao.page.html',\n  styleUrls: ['./permicao.page.scss']\n})], PermicaoPage);\nexport { PermicaoPage };","map":{"version":3,"names":["ModalPermissaoPage","Component","PermicaoPage","constructor","navCtrl","modalCtrl","http","alertCtrl","permissaonova","navigateForward","showmodalPermissao","_this","_asyncToGenerator","modal","create","component","onDidDismiss","then","data","montaGrid","present","againpage","url","get","subscribe","linhas","error","console","ngOnInit","ionViewDidEnter","modificaStatus","codigo","_this2","alertcadastrado","header","buttons","text","handler","atualizaStatus","dismiss","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\otavi\\ionic\\testPHPMOIO\\src\\app\\permicao\\permicao.page.ts"],"sourcesContent":["import { ModalPermissaoPage } from './../modal-permissao/modal-permissao.page';\nimport { Component, OnInit } from '@angular/core';\nimport { ModalController, NavController, AlertController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n\n\n@Component({\n  selector: 'app-permicao',\n  templateUrl: './permicao.page.html',\n  styleUrls: ['./permicao.page.scss'],\n})\nexport class PermicaoPage implements OnInit {\n\n  linhas: any;\n\n  constructor(\n    private navCtrl: NavController,\n    private modalCtrl: ModalController,\n    private http: HttpClient,\n    private alertCtrl: AlertController\n  ) {}\n\n  permissaonova(){\n    this.navCtrl.navigateForward('newpermissao')\n  }\n\n  async showmodalPermissao(){\n    const modal = await this.modalCtrl.create({\n      component: ModalPermissaoPage\n    })\n\n    modal.onDidDismiss().then((data) => {\n      this.montaGrid();\n    });\n\n    return await modal.present();\n  }\n\n  againpage(){\n    this.navCtrl.navigateForward('register')\n  }\n\n  montaGrid(){\n\n    const url = `http://localhost/classes/montaGridPermissao.php`;\n\n    this.http.get(url).subscribe(data => {\n      // debugger;\n      this.linhas = data;\n\n    }, error => {\n      // Lide com erros aqui\n      console.error(error);\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter(){\n    this.montaGrid()\n  }\n\n  async modificaStatus(codigo: any){\n    const alertcadastrado = await this.alertCtrl.create({\n      header: \"Deseja atualizar o status da pessoa selecionada?\",\n      buttons: [\n        {\n        text:'Sim',\n        handler: () => {\n          this.atualizaStatus(codigo);\n          this.modalCtrl.dismiss();\n        }\n        },\n        {\n        text:'Não',\n        handler: () => {\n          this.modalCtrl.dismiss();\n        }\n        }\n      ]\n    })\n\n    await alertcadastrado.present();\n  }\n\n\n  atualizaStatus(codigo: any){\n    const url = `http://localhost/classes/alteracaoStatus.php?codigo=${codigo}`;\n\n    this.http.get(url).subscribe(data => {\n      this.montaGrid()\n    }, error => {\n      console.error(error);\n    });\n  }\n\n\n\n}\n"],"mappings":";;AAAA,SAASA,kBAAkB,QAAQ,2CAA2C;AAC9E,SAASC,SAAS,QAAgB,eAAe;AAWjD,IAAaC,YAAY,GAAzB,MAAaA,YAAY;EAIvBC,YACUC,OAAsB,EACtBC,SAA0B,EAC1BC,IAAgB,EAChBC,SAA0B;IAH1B,KAAAH,OAAO,GAAPA,OAAO;IACP,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,IAAI,GAAJA,IAAI;IACJ,KAAAC,SAAS,GAATA,SAAS;EAChB;EAEHC,aAAaA,CAAA;IACX,IAAI,CAACJ,OAAO,CAACK,eAAe,CAAC,cAAc,CAAC;EAC9C;EAEMC,kBAAkBA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACtB,MAAMC,KAAK,SAASF,KAAI,CAACN,SAAS,CAACS,MAAM,CAAC;QACxCC,SAAS,EAAEf;OACZ,CAAC;MAEFa,KAAK,CAACG,YAAY,EAAE,CAACC,IAAI,CAAEC,IAAI,IAAI;QACjCP,KAAI,CAACQ,SAAS,EAAE;MAClB,CAAC,CAAC;MAEF,aAAaN,KAAK,CAACO,OAAO,EAAE;IAAC;EAC/B;EAEAC,SAASA,CAAA;IACP,IAAI,CAACjB,OAAO,CAACK,eAAe,CAAC,UAAU,CAAC;EAC1C;EAEAU,SAASA,CAAA;IAEP,MAAMG,GAAG,GAAG,iDAAiD;IAE7D,IAAI,CAAChB,IAAI,CAACiB,GAAG,CAACD,GAAG,CAAC,CAACE,SAAS,CAACN,IAAI,IAAG;MAClC;MACA,IAAI,CAACO,MAAM,GAAGP,IAAI;IAEpB,CAAC,EAAEQ,KAAK,IAAG;MACT;MACAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACJ;EAEAE,QAAQA,CAAA,GACR;EAEAC,eAAeA,CAAA;IACb,IAAI,CAACV,SAAS,EAAE;EAClB;EAEMW,cAAcA,CAACC,MAAW;IAAA,IAAAC,MAAA;IAAA,OAAApB,iBAAA;MAC9B,MAAMqB,eAAe,SAASD,MAAI,CAACzB,SAAS,CAACO,MAAM,CAAC;QAClDoB,MAAM,EAAE,kDAAkD;QAC1DC,OAAO,EAAE,CACP;UACAC,IAAI,EAAC,KAAK;UACVC,OAAO,EAAEA,CAAA,KAAK;YACZL,MAAI,CAACM,cAAc,CAACP,MAAM,CAAC;YAC3BC,MAAI,CAAC3B,SAAS,CAACkC,OAAO,EAAE;UAC1B;SACC,EACD;UACAH,IAAI,EAAC,KAAK;UACVC,OAAO,EAAEA,CAAA,KAAK;YACZL,MAAI,CAAC3B,SAAS,CAACkC,OAAO,EAAE;UAC1B;SACC;OAEJ,CAAC;MAEF,MAAMN,eAAe,CAACb,OAAO,EAAE;IAAC;EAClC;EAGAkB,cAAcA,CAACP,MAAW;IACxB,MAAMT,GAAG,GAAG,uDAAuDS,MAAM,EAAE;IAE3E,IAAI,CAACzB,IAAI,CAACiB,GAAG,CAACD,GAAG,CAAC,CAACE,SAAS,CAACN,IAAI,IAAG;MAClC,IAAI,CAACC,SAAS,EAAE;IAClB,CAAC,EAAEO,KAAK,IAAG;MACTC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACJ;CAID;AAxFYxB,YAAY,GAAAsC,UAAA,EALxBvC,SAAS,CAAC;EACTwC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWzC,YAAY,CAwFxB;SAxFYA,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}
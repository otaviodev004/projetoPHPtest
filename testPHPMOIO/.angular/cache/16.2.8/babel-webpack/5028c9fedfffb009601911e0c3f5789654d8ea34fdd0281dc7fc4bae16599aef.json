{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/otavi/ionic/testPHPMOIO/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { PermicaoPage } from '../permicao/permicao.page';\nlet ModalPermissaoPage = class ModalPermissaoPage {\n  constructor(navCtrl, modalCtrl, fBuilder, http, alertCtrl, arquivo1 = new PermicaoPage()) {\n    this.navCtrl = navCtrl;\n    this.modalCtrl = modalCtrl;\n    this.fBuilder = fBuilder;\n    this.http = http;\n    this.alertCtrl = alertCtrl;\n    this.arquivo1 = arquivo1;\n    this.fGroupPermissao = this.fBuilder.group({\n      'nome': [null, Validators.compose([Validators.required, Validators.minLength(2), Validators.maxLength(100)])],\n      'emailPermissao': [null, Validators.compose([Validators.required, Validators.pattern(/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/), Validators.minLength(4), Validators.maxLength(100)])],\n      'criarNew': [null],\n      'acessPermissao': [null]\n    });\n  }\n  close() {\n    this.modalCtrl.dismiss();\n  }\n  novaPermissao() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      //console.log(this.fGroupPermissao.value)\n      const nome = _this.fGroupPermissao.value.nome;\n      const emailPermissao = _this.fGroupPermissao.value.emailPermissao;\n      const criarNew = _this.fGroupPermissao.value.criarNew;\n      const acessPermissao = _this.fGroupPermissao.value.acessPermissao;\n      const url = `http://localhost/classes/criarNovaPermissao.php?nome=${nome}&emailPermissao=${emailPermissao}&criarNew=${criarNew}&acessPermissao=${acessPermissao}`;\n      const alertcadastrado = yield _this.alertCtrl.create({\n        header: \"Cadastrado com Sucesso!\",\n        buttons: ['Continuar', {\n          text: 'Cancelar',\n          handler: () => {\n            _this.navCtrl.navigateForward('modal-permissao');\n          }\n        }]\n      });\n      const alertCancel = yield _this.alertCtrl.create({\n        header: \"Usu치rio j치 cadastrado no Sistema!\",\n        message: \"Digite novamente os dados!\",\n        buttons: ['OK']\n      });\n      _this.http.get(url).subscribe(data => {\n        _this.dados = data;\n        if (_this.dados.status == \"cadastrado\") {\n          //aqui deu boa\n          // console.log('ok')\n          _this.montaGrid();\n          alertcadastrado.present();\n        } else {\n          //aqui deu ruim\n          // console.log('recusado')\n          _this.montaGrid();\n          alertCancel.present();\n        }\n      }, error => {\n        // Lide com erros aqui\n        console.error(error);\n      });\n    })();\n  }\n  ngOnInit() {}\n};\nModalPermissaoPage = __decorate([Component({\n  selector: 'app-modal-permissao',\n  templateUrl: './modal-permissao.page.html',\n  styleUrls: ['./modal-permissao.page.scss']\n})], ModalPermissaoPage);\nexport { ModalPermissaoPage };","map":{"version":3,"names":["Component","Validators","PermicaoPage","ModalPermissaoPage","constructor","navCtrl","modalCtrl","fBuilder","http","alertCtrl","arquivo1","fGroupPermissao","group","compose","required","minLength","maxLength","pattern","close","dismiss","novaPermissao","_this","_asyncToGenerator","nome","value","emailPermissao","criarNew","acessPermissao","url","alertcadastrado","create","header","buttons","text","handler","navigateForward","alertCancel","message","get","subscribe","data","dados","status","montaGrid","present","error","console","ngOnInit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\otavi\\ionic\\testPHPMOIO\\src\\app\\modal-permissao\\modal-permissao.page.ts"],"sourcesContent":["import { ModalController, NavController, AlertController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { PermicaoPage } from '../permicao/permicao.page';\n\n@Component({\n  selector: 'app-modal-permissao',\n  templateUrl: './modal-permissao.page.html',\n  styleUrls: ['./modal-permissao.page.scss'],\n})\nexport class ModalPermissaoPage implements OnInit {\n  // banco de dados\n  nome: any;\n  email: any;\n  senha: any;\n  criarNew: any;\n  acessPermissao: any;\n  dados: any;\n\n  public fGroupPermissao: FormGroup;\n\n  constructor(\n    private navCtrl: NavController,\n    private modalCtrl: ModalController,\n    private fBuilder: FormBuilder,\n    private http: HttpClient,\n    private alertCtrl: AlertController,\n    private arquivo1 = new PermicaoPage();\n  ) {\n    this.fGroupPermissao = this.fBuilder.group({\n      'nome': [null,\n        Validators.compose([\n        Validators.required,\n        Validators.minLength(2),\n        Validators.maxLength(100),\n      ])\n      ],\n      'emailPermissao': [null,\n        Validators.compose([\n          Validators.required,\n          Validators.pattern(\n            /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/\n          ),\n          Validators.minLength(4),\n          Validators.maxLength(100),\n        ])\n      ],\n      'criarNew': [null],\n      'acessPermissao': [null]\n    })\n  }\n\n  close() {\n    this.modalCtrl.dismiss();\n  }\n\n  async novaPermissao(){\n    //console.log(this.fGroupPermissao.value)\n\n    const nome = this.fGroupPermissao.value.nome;\n    const emailPermissao = this.fGroupPermissao.value.emailPermissao;\n    const criarNew = this.fGroupPermissao.value.criarNew;\n    const acessPermissao = this.fGroupPermissao.value.acessPermissao;\n    const url = `http://localhost/classes/criarNovaPermissao.php?nome=${nome}&emailPermissao=${emailPermissao}&criarNew=${criarNew}&acessPermissao=${acessPermissao}`;\n    const alertcadastrado = await this.alertCtrl.create({\n      header: \"Cadastrado com Sucesso!\",\n      buttons: ['Continuar',{\n        text:'Cancelar',\n        handler: () => {\n          this.navCtrl.navigateForward('modal-permissao');\n        }}]\n    });\n    const alertCancel = await this.alertCtrl.create({\n      header: \"Usu치rio j치 cadastrado no Sistema!\",\n      message: \"Digite novamente os dados!\",\n      buttons: ['OK']\n    });\n\n    this.http.get(url).subscribe(data => {\n      this.dados = data;\n        if (this.dados.status == \"cadastrado\"){\n        //aqui deu boa\n        // console.log('ok')\n\n        this.montaGrid()\n        alertcadastrado.present();\n      } else {\n        //aqui deu ruim\n        // console.log('recusado')\n        this.montaGrid()\n        alertCancel.present();\n      }\n    }, error => {\n      // Lide com erros aqui\n      console.error(error);\n    });\n\n  }\n\n\n\n  ngOnInit() {\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}